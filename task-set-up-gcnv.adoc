---
sidebar: sidebar 
permalink: task-set-up-gcnv.html 
keywords: setup, set up, api, service account, requirements, permissions, google cloud netapp volumes, gcnv, bluexp. netapp console 
summary: NetApp Consoleには、Google Cloud NetApp Volumes API へのアクセスと、Google Cloud サービス アカウントを介した適切な権限が必要です。 
---
= Google Cloud NetApp Volumesを設定する
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Consoleには、 Google Cloud サービス アカウントを介した適切な権限が必要です。

NetApp ConsoleがGoogle Cloud プロジェクトにアクセスできるように、次のタスクを完了します。

* 既存のサービス アカウントがない場合は、新しいアカウントを作成してください。
* サービス アカウント メンバーをプロジェクトに追加し、特定のロール (権限) を割り当てます。
* Google への認証に使用するサービス アカウントのキー ペアを作成してダウンロードします。
* 共有プロジェクトに IAM ロールを付与します。




== サービスアカウントを設定する

. Google Cloudコンソールでは、 https://console.cloud.google.com/iam-admin/serviceaccounts["サービスアカウントページに移動します"^] 。
. *プロジェクトを選択*をクリックし、プロジェクトを選択して*開く*をクリックします。
. (オプション) サービス アカウントを作成するには、次の手順を実行します。
+
.. *サービス アカウントの作成*をクリックします。
.. サービス アカウント名 (フレンドリ表示名) と説明を入力します。
+
Google Cloud Console はこの名前に基づいてサービス アカウント ID を生成します。必要に応じて ID を編集します。後で ID を変更することはできません。

.. 今すぐアクセス制御を設定するには、ページの下部にある [*作成*] をクリックし、[*完了*] をクリックして、次の手順に進みます。






== キーペアを作成してダウンロードする

. の中で https://console.cloud.google.com/iam-admin/serviceaccounts["サービスアカウントページ"^]で、サービス アカウント名を見つけてクリックします。
. _サービス アカウントの詳細_ ページで、*キーの追加* をクリックし、次に *新しいキーの作成* をクリックします。
. キータイプとして*JSON*を選択し、*作成*をクリックします。
+
*作成*をクリックすると、新しい公開/秘密キーのペアが生成され、システムにダウンロードされます。これは秘密鍵の唯一のコピーとして機能します。このファイルはサービス アカウントとして認証するために使用できるため、安全に保管してください。





== サービスアカウントメンバーを追加する

. ログイン https://docs.netapp.com/us-en/console-setup-admin/task-logging-in.html["NetApp Console"]。
. *管理*を選択し、次に*IDとアクセス*を選択します。
. [追加] をクリックし、[メンバーの追加] ページのフィールドに入力します。
+
.. [新しいメンバー] フィールドに、完全なサービス アカウント ID を入力します。
+
例: \user1-service-account-gcnv@project1.iam.gserviceaccount.com

.. 次のいずれかのロールを追加します。
+
*** _Google Cloud NetApp Volumes 管理者_ または
*** _Google Cloud NetAppボリューム閲覧者_


.. *保存*をクリックします。






== 共有VPC

サービス アカウントを使用する追加の GCP プロジェクトごとに、次の操作を行います。

. _IAM ページ_ で、プロジェクト ドロップダウン メニューから共有 VPC ホスト プロジェクトを選択します。
. *プリンシパルの追加*をクリックします。
. [新しいプリンシパル] フィールドに、サービス アカウントのメール アドレスを入力します。
. [役割を選択] ドロップダウンから、 Google Cloud NetApp Volumes管理者の役割を選択します。
. *保存*をクリックします。


詳細な手順については、Google Cloud のドキュメントを参照してください。

* link:https://cloud.google.com/iam/docs/roles-permissions/netapp["Google Cloud NetApp Volumes のロールと権限"^]
* link:https://cloud.google.com/iam/docs/creating-managing-service-accounts["サービス アカウントの作成と管理"^]
* link:https://cloud.google.com/iam/docs/granting-changing-revoking-access["リソースへのアクセスの許可、変更、取り消し"^]
* link:https://cloud.google.com/iam/docs/creating-managing-service-account-keys["サービス アカウント キーの作成と管理"^]

